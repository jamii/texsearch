<body id="body">
  <textarea id="latex">"\dot" AND "O_2" AND ("C" OR "V")</textarea>
  <div><button onclick="javascript:search()">Search</button></div>

  <div>Results:</div>
  <div id="results"></div>

</body>

<script type='text/javascript' charset='utf-8'>
  var searchRequest = null;
  var body = document.getElementById("body");
  var latex = document.getElementById("latex");
  var results = document.getElementById("results");
  var limit = 10;

  function search()
  {
    var url = "/documents/_external/index?format=json&searchTerm=" + escape(latex.value);

    searchRequest = new XMLHttpRequest();
    searchRequest.onreadystatechange = searchCallback;
    searchRequest.open("GET",url);
    searchRequest.send( null );
  }

  function searchCallback()
    {
      if (searchRequest.readyState == 4 && searchRequest.status == 200) {
        response = eval("(" + searchRequest.responseText + ")"); /* Yes, this is a bad thing to do */

        body.removeChild(results);
        results = document.createElement('div');

        var p = document.createElement('p');
        p.textContent = response.query;
        results.appendChild(p)

        response.results.forEach(function (row) {
          var a = document.createElement('a');
          a.textContent = row[0];
          a.href = "http://www.springerlink.com/content?k=doi%3a(" + row[0] + ")";
          results.appendChild(a);

          row[1].forEach (function (eqn) {
            var p = document.createElement('p');
            p.textContent = eqn;
            results.appendChild(p)
          })
        })
        body.appendChild(results);

      } else if (searchRequest.readyState == 4 && searchRequest.status != 200) {
        results.textContent = "Error " + searchRequest.status + " : " + searchRequest.responseText
      }
    }
</script>